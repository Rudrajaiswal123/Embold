<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>embold</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>

<body>
  <div class="container-fluid px-0;">
    <div class="row">
      <div class=" fixed-top" id="menubar">
        <div id="menu">
          <a class="menu" href="#"><i class="fa fa-bars" ></i></a>
        </div>
        <ul class="nav flex-column " id="underlist">
          <li class="nav-item">
            <a class="nav-link " href="#"><i class="fa fa-search" ></i></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"><i class="fa fa-home" ></i></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"><i class="fa fa-area-chart" ></i></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"><i class="fa fa-users" ></i></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"><i class="fa fa-gear" ></i></a>
          </li>
        </ul>
      </div>

      <!-- ----Header--- -->

      <div class="container-fluid fixed-top" id="header">
        <div class="row">
          <div class="col-12">
            <nav class="navbar py-0 ps-sm-3">                                
              <div class=" h2 alert-link ">
                <img src="images/logo.png" width="35px">
                embold
              </div>
              <div class="account-setting">
                <div>
                  <P >RENEEMCKELVEY</P>
                  <P style="font-size: 13px;text-align:right">Account setting</P>
                </div>
                <i class="fa fa-user-circle-o" ></i>
              </div>                                
            </nav>
            <hr>
          </div>
        </div>
      </div>

      <!-- ---Content--- -->
      <div class="container-fluid" id="content">
        <div class="row">
          <div class="col-md-12">
            <h4>User list</h4>
            <div class=" form-group mt-3 search">
              <span class="fa fa-search form-control-feedback"></span>
              <input type="text" class="form-control" placeholder="Search">
            </div>
            <!-- ---Table--- -->
            <table class="table table-bordered me-4">
              <thead style="background-color: #e5e5e9fb;">
                  <tr >
                      <th class="col-md-5" >Name</th>
                      <th class="col-md-5">Role</th>
                      <th class="col-md-2">Actions</th>
                  </tr>
              </thead>
              <tbody id="table">
                  <!-- <tr>
                      <td>Ada lovelace</td>
                      <td>Admin</td>
                      <td class="text-center"><i class="fa fa-pencil" ></i></td>
                  </tr>
                  <tr>
                      <td>Grace Hopper</td>
                      <td>Developer</td>
                      <td class="text-center"><i class="fa fa-pencil" ></i></td>
                  </tr>
                  <tr>
                      <td>Margaret Hamilton</td>
                      <td>QA</td>
                      <td class="text-center"><i class="fa fa-pencil" ></i></td>
                  </tr>
                  <tr>
                      <td>Joan clarke</td>
                      <td>Manager</td>
                      <td class="text-center"><i class="fa fa-pencil" ></i></td>
                  </tr> -->
              </tbody>
            </table>

          <!-- ---formSection--- -->
            <form class="row g-5 mt-5" >                        
              <div class="col-md-9 ">
                <h4>New User Details</h4>
                <hr style="margin-bottom: 20px;">                            
                <div class="row my-2 ">
                  <div class="col">
                    <input type="text" class="form-control" id="username" placeholder="Username" name="name">
                  </div>
                  <div class="col">
                    <input type="email" class="form-control" id="email" placeholder="Email" name="email" >
                  </div>
                </div>
                <div class="row my-2 ">
                  <div class="col">
                    <input type="text" class="form-control" placeholder="First Name" id="firstname">
                  </div>
                  <div class="col">
                    <input type="text" class="form-control" id="lastname" placeholder="Last Name">
                  </div>
                </div>
                <div class="row">
                  <div class="col-6">                                    
                    <select class="form-select py-2" id="validationCustom04" required >
                      <option selected disabled value="">Role</option>
                      <option value="1">Admin</option>
                      <option value="2">Developer</option>
                      <option value="3">Manager</option>
                      <option value="4">QA</option>
                    </select>                                   
                  </div>
                </div>
                <div class="row my-2">
                  <div class="col-6">
                    <div class="form-check">
                      <input class="form-check-input " type="checkbox" value="" id="flexCheckChecked" checked>
                      <label class="form-check-label " for="flexCheckChecked">Send emial confirmation</label>
                    </div>
                  </div>
                </div>                           
              </div>

              <div class="col-md-3  ">
                <h4>Profile Picture</h4>
                <hr>
                <div class="row mt-2 ">                              
                  <img id="blah" src="images/picture.png" alt="your image" />
                  <input class="mt-2"type='file' id="imgInp" />
                </div>                                                                        
              </div>
              <hr class="mt-3">
              <div class="col-12 mt-3 mb-3">
                <button class="btn btn-info px-5 text-white" type="button" id="submit">Add user</button>
                <button class="btn btn-light px-5 " type="submit">Cancel</button>
              </div> 
            </form>
           
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="toast-container m-auto py-1" style="top:0;position:fixed; width:100%;z-index:2000">
    <div class="toast align-items-center  m-auto text-white bg-success border-0 "  data-delay="5000" id="message" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body">
          Successfully .
        </div>
        <button type="button" id="close" class="btn-close btn-close-white me-2 m-auto " data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
  </div>



 <!-- ----javascript----  -->
<script>

  fetch("https://run.mocky.io/v3/a2f469c5-a095-4bdf-b45f-fc44ef494a6e")    
    .then(res => res.json())
    .then((table)=>{
      const mydata = table.data;            
      for(var i=0; i<mydata.length; i++){
          var component = '<tr><td>'+ mydata[i].username +'</td><td>'+ mydata[i].role +'</td><td class="text-center"><i class="fa fa-pencil" ></i></td></tr>';
          $('#table').append(component);
        } 
  })        
  .catch((err) =>{
      console.log(err);
  });
</script>
  <script>

    /*---submit-form----*/

    $("#submit").click(function(){
      var isValid = true;
      isValid = validateAlphaNumeric('username') && isValid;
      isValid =  validateAlphaNumeric('firstname') && isValid;
      isValid =  validateAlphaNumeric('lastname') && isValid;
      isValid =  validEmail('email') && isValid;
      if (isValid) {
        $("#message").toast('show')({
          delay: 5000
        });
      } 
    });

    $("#close").click(function(){
      $("#message").toast('hide');
  });

    function validateAlphaNumeric (ele) {
      var alpha_numeric = /^[A-Za-z0-9]+$/;
      if ($("#" + ele).val() == "" || !alpha_numeric.test($("#" + ele).val())) {
        $("#" + ele).removeClass("is-valid").addClass("is-invalid");
        return false;
      } else {
        $("#" + ele).removeClass("is-invalid").addClass("is-valid");
        return true;
      }
    }
    function validEmail (ele) {
      var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
      if ($("#" + ele).val() == "" || !regex.test($("#" + ele).val())) {
        $("#" + ele).removeClass("is-valid").addClass("is-invalid");
        return false;
      } else {
        $("#" + ele).removeClass("is-invalid").addClass("is-valid");
        return true;
      }
    }

    /*---choose-image---*/
     function readURL(input) {
      var validImageTypes = ["image/jpeg","image/jpg", "image/png"];
      if (input.files && input.files[0]) {
      
        if ($.inArray(input.files[0]['type'], validImageTypes) >= 0 && input.files[0]['size']/1024 <1) {
          var reader = new FileReader();
          reader.onload = function (e) {
              $('#blah').attr('src', e.target.result);
          }
          reader.readAsDataURL(input.files[0]);
        } else {
          alert("invalid image");
        }
      }
    }
    
    $("#imgInp").change(function(){
        readURL(this);
    }); 
</script>
</body>
</html>